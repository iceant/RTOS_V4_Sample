# FLASH分区

| FLASH 区段名称   | 起始位置   | 大小(KB) | 结束位置   | 说明 |
| ---------------- | ---------- | -------- | ---------- | ---- |
| Bootloader(BOOT) | 0x08000000 | 48       | 0x0800BFFF |      |
| 信息区(INFO)     | 0x0800C000 | 16       | 0x0800FFFF |      |
| 应用区(APP)      | 0x08010000 | 576      | 0x0809FFFF |      |
| 备份区(BKP)      | 0x080A0000 | 384      | 0x080FFFFF |      |



- BOOT 区接收数据，并写入 APP 区
- INFO 区记录升级的信息
  - 当前应用区的版本号（local_version)
  - 要升级的版本号(fw_version)
  - 要升级的版本字节数(fw_bytes)
  - 要升级的版本MD5校验码(fw_md5)

# 逻辑

## BOOT

### 启动时

1. 检查信息区，是否有固件需要升级
2. APP需要升级

## APP

### 启动时